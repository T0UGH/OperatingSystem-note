### 4.2 多线程模型
---
- 有两种方法来提供线程支持：用户层的**用户线程**或内核层的**内核线程**

- 用户线程受内核支持，**无需内核管理**

- 内核线程由操作系统直接支持和管理
---
#### 4.2.1 多对一模型
---
- 多对一模型将许多用户级线程映射到一个内核线程

- 线程管理由线程库在用户空间进行

- 缺点
    - 一个线程阻塞，整个进程就阻塞
    - 任一时刻只有一个线程能访问内核
    - 多个线程不能并行运行在多处理器上
- 例如
    - Green Thread(Solaris的线程库)
    - GNU Portable Thread
---
#### 4.2.2 一对一模型
---

- 一对一模型将每个用户线程映射到一个内核线程

- 优点
    - 在一个线程阻塞时，其他线程可以继续执行
    - 多个线程可以并行运行在多处理器上

- 缺点
    - 每创建一个用户线程就需要创建一个内核线程，因而系统开销大
    - 这种模型的绝大多数实现限制了系统所支持的线程数量

- 例如
    - Linux
    - Windows操作系统家族

---
#### 4.2.3多对多模型
---

- 多对多模型多路复用了用户线程到相同数量或更少数量的内核线程上

- 优点
    - 开发人员可以创建任意多的用户线程
    - 在一个线程阻塞时，其他线程可以继续执行
    - 多个线程可以并行运行在多处理器上

- 变种
    - 二级模型：既支持多对多模型也允许将一个用户线程绑定到一个内核线程(一对一)

- 例如
    - IRIX
    - HP-UX
    - Sloaris 9 之前的版本

---
&copy; 2018 T0UGH. All rights reserved.